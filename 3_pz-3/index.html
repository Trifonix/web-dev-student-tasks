<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <title>Практическая работа №3 – В поисках свежести</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <header>
    <h1>В поисках свежести</h1>
  </header>

  <main>
    <section>
      <p>20 марта 2010 года началось извержение вулкана Эйяфьядлайёкюдль в Исландии. 14 июля 2015 года межпланетная
        станция <strong>New Horizons</strong> передала на Землю фотографии Плутона. 15 апреля 2019 года случился пожар в
        соборе Парижской Богоматери. Что общего в этих случаях?</p>
      <p>Каждое подобное событие сопровождается всплеском интереса со стороны пользователей интернета. Люди хотят не
        только прочитать о том, что произошло, но и взглянуть на фотографии. Они идут в поиск картинок и ожидают найти
        там свежие, актуальные снимки, которые могли не существовать ещё несколько часов назад. Интерес возникает
        неожиданно и за несколько дней падает почти до нуля.</p>
      <p>Особенность ситуации в том, что обычные поисковые механизмы не заточены на подобный сценарий. Более того,
        критерий свежести контента противоречит другим важным свойствам хорошего поиска: релевантности, авторитетности и
        т. д. Нужны особые технологии, чтобы не просто находить новый контент, но и сохранять баланс в результатах.</p>
      <p>Меня зовут <strong>Денис Сахнов</strong>, сегодня я расскажу о новом подходе к доставке свежего контента до
        <strong>Яндекс.Картинок</strong>. А мой коллега <strong>Дмитрий Кривоконь @krivokon</strong> поделится
        подробностями о метриках и ранжировании свежих картинок. Вы узнаете о старом и новом подходе к оценке качества.
        А ещё мы напомним о <strong>YT</strong>, <strong>Logbroker</strong> и <strong>RTMR</strong>.</p>
    </section>

    <section>
      <h2>Задачи</h2>
      <p>Чтобы поиск картинок работал хорошо на той части запросов, ответы на которые должны содержать свежий контент,
        нужно:</p>
      <ul>
        <li>Научиться быстро находить и скачивать свежие картинки.</li>
        <li>Научиться быстро их обрабатывать.</li>
        <li>Научиться быстро собирать документы для поиска на базе картинок.</li>
        <li>Сформулировать критерии качества поиска свежего контента.</li>
        <li>Научиться ранжировать и смешивать контент в выдаче.</li>
      </ul>
    </section>

    <section>
      <h2>1. Добываем картинки</h2>
      <p>В интернете множество сайтов, многие из них что-то регулярно публикуют, в том числе картинки...</p>
      <p>Правильный ответ: никак. Мы ничего не знаем о графике извержений вулканов. Но мы знаем, на каких сайтах обычно
        появляется свежий и полезный контент. С этой стороны мы и пошли. Мы стали применять машиннообученную формулу,
        которая приоритизирует обход нашего робота в зависимости от качества и актуальности контента:</p>
      <p class="formula">
        <math xmlns="http://www.w3.org/1998/Math/MathML">
          <mi>f</mi>
          <mo>(</mo>
          <mi>x</mi>
          <mo>)</mo>
          <mo>=</mo>
          <mfrac>
            <mrow>
              <mi>w</mi>
              <mo>⋅</mo>
              <mi>q</mi>
            </mrow>
            <mi>r</mi>
          </mfrac>
        </math>
      </p>
    </section>

    <section>
      <h2>2. Обрабатываем картинки</h2>
      <ol>
        <li>В сервисе stateless-вычислений RTHub готовятся версии разных размеров.</li>
        <li>Рассчитываются нейросетевые фичи (векторы фич картинки, классификаторы красоты и нежелательного контента).
        </li>
        <li>Склеиваются дубликаты в два этапа: грубая кластеризация по вектору и поиск опорных точек внутри кластера.
        </li>
      </ol>
    </section>

    <section>
      <h2>3. Сборка картинок в документы</h2>
      <p>Документ — это сущность, которая участвует в ранжировании. Внутри скрывается картинка, нейросетевые фичи,
        тексты страниц, статистика поведения пользователей и прочее.</p>
      <p>Для формирования основной поисковой базы картинок используется MapReduce. Для свежести применяются KV-хранилища
        в системе <strong>YT</strong> и потоковая обработка через <strong>RTRobot</strong>.</p>
    </section>

    <section>
      <h2>4. Измеряем качество</h2>
      <p>Выбор метрики позволяет оценить полезность выдачи. Модель <strong>f(...)</strong> обучается на попарном
        сравнении картинок толокерами.</p>
    </section>

    <section>
      <h2>5. Ранжируем</h2>
      <p>Сочетание основного и свежего источников, единая модель ранжирования и приёмочная корзина свежих запросов
        позволяют выдавать наиболее актуальные результаты.</p>
    </section>
  </main>

</body>

</html>